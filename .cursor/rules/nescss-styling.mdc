---
description: NES.css styling conventions, cursor, font, theming, and layout
globs: "{**/css/*.css,**/*.scala}"
alwaysApply: false
---

# NES.css Styling

## NesCss Object
Central class-name strings in `common/nescss/NesCss.scala`: `container`, `containerRounded`, `btn`, `btnPrimary`, `btnError`, `text`, `input`, `radio`. Always use these constants, not raw strings.

## Custom Cursor
NES.css uses a pixel-art hand cursor for `a` and `button`. For any custom clickable element, use `cursor: var(--nes-pointer)` (defined in `:root` in `css/style.css`) -- **not** `cursor: pointer`.

## Layout Stability
- `#myapp` and `.screen-container` use `width: 42rem; max-width: 100%` to prevent layout jumps between screens.
- `html { scrollbar-gutter: stable }` prevents scrollbar-induced layout shift.

## Theming
CSS variables in `css/style.css` control theming (e.g. `--palette-element-bg`, `--palette-frame`, `--screen-container-bg`).

## Gallery Screens
Use `GalleryLayout(title, backButton, content, shortHeader, nextButton)` for gallery screens. Use `GalleryEmptyState(text, buttonLabel, msg)` for empty states. Use `GalleryLayout.listWithAddActionAndPagination(...)` for paginated lists.

## New Screen Checklist
1. Add `ScreenId`, implement `Screen` (init, update, view), register in `ScreenRegistry`.
2. New stored entity -> case class in `StoredEntities.scala` + backward-compatible Circe decoder.
3. Navigation payload -> `ScreenOutput` case class, pass via `NavigateNext`.
